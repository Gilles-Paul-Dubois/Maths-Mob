<html>
 <head>
  <title>
   modelZsurpZ.py
  </title>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <style type="text/css">
   .ln { color: rgb(0,0,0); font-weight: normal; font-style: normal; }
.s0 { color: rgb(128,128,128); font-style: italic; }
.s1 { }
.s2 { color: rgb(0,128,128); font-weight: bold; }
.s3 { color: rgb(0,0,128); font-weight: bold; }
.s4 { color: rgb(0,0,255); }
  </style>
 </head>
 <body bgcolor="#ffffff">
  <pre>
<span class="s0"># python version 3.4</span><span class="s1">
 
</span><span class="s2">"""Modélisation des corps Z/pZ avec p premier - Model for Z/pZ fields with prime p"""</span><span class="s1"> 
 
 
</span><span class="s3">def </span><span class="s1">GenZp(p): 
    </span><span class="s2">"""génère la classe paramétrée Z/pZ - generates the parameterized  class"""</span><span class="s1"> 
 
    </span><span class="s3">class </span><span class="s1">C(object): 
        car = p 
 
        </span><span class="s3">def </span><span class="s1">__init__(self, m): 
            </span><span class="s2">"""initialisation à partir d'un entier - constructor"""</span><span class="s1"> 
            self.n = m % self.car 
 
        </span><span class="s3">def </span><span class="s1">__str__(self): 
            </span><span class="s2">"""représentation externe pour print etc... - conversion to string"""</span><span class="s1"> 
            </span><span class="s3">return </span><span class="s1">str(self.n) 
 
        </span><span class="s3">def </span><span class="s1">nul(self): 
            </span><span class="s2">"""test de nullité - null test"""</span><span class="s1"> 
            </span><span class="s3">return </span><span class="s1">self.n == </span><span class="s4">0</span><span class="s1"> 
 
        </span><span class="s0"># les opérateurs unaires - unary operators</span><span class="s1"> 
        </span><span class="s3">def </span><span class="s1">__neg__(self): 
            </span><span class="s2">"""opposé - opposite"""</span><span class="s1"> 
            </span><span class="s3">return </span><span class="s1">C(-self.n) 
 
        </span><span class="s3">def </span><span class="s1">__invert__(self): 
            </span><span class="s2">"""inverse"""</span><span class="s1"> 
            </span><span class="s3">if not </span><span class="s1">self.nul(): 
                y = </span><span class="s4">1</span><span class="s1"> 
                </span><span class="s3">while </span><span class="s1">(self.n * y) % self.car != </span><span class="s4">1</span><span class="s1">: 
                    y += </span><span class="s4">1</span><span class="s1"> 
            </span><span class="s3">return </span><span class="s1">C(y) 
 
        </span><span class="s0"># les opérations binaires - binary operations</span><span class="s1"> 
        </span><span class="s3">def </span><span class="s1">__add__(self, other): 
            </span><span class="s2">"""addition"""</span><span class="s1"> 
            </span><span class="s3">return </span><span class="s1">C(self.n + other.n) 
 
        </span><span class="s3">def </span><span class="s1">__mul__(self, other): 
            </span><span class="s2">"""multiplication"""</span><span class="s1"> 
            </span><span class="s3">return </span><span class="s1">C(self.n * other.n) 
 
        </span><span class="s3">def </span><span class="s1">__sub__(self, other): 
            </span><span class="s2">"""soustraction - subtraction"""</span><span class="s1"> 
            </span><span class="s3">return </span><span class="s1">C(self.n - other.n) 
 
        </span><span class="s3">def </span><span class="s1">__truediv__(self, other): 
            </span><span class="s3">return </span><span class="s1">self * ~(other) 
 
        </span><span class="s3">def </span><span class="s1">__pow__(self, k): 
            </span><span class="s2">"""puissances - powers"""</span><span class="s1"> 
            </span><span class="s3">if </span><span class="s1">k &gt;= </span><span class="s4">0</span><span class="s1">: 
                </span><span class="s3">return </span><span class="s1">C(self.n ** k) 
            </span><span class="s3">else</span><span class="s1">: 
                </span><span class="s3">return </span><span class="s1">~self ** (-k) 
 
    </span><span class="s3">return </span><span class="s1">C 
 
 
</span><span class="s0"># diverses fonctions de test - various test functions</span><span class="s1"> 
</span><span class="s3">def </span><span class="s1">TableAddition(K): 
    </span><span class="s2">"""comme son nom l'indique - as suggested by name"""</span><span class="s1"> 
    </span><span class="s3">for </span><span class="s1">x </span><span class="s3">in </span><span class="s1">K: 
        </span><span class="s3">for </span><span class="s1">y </span><span class="s3">in </span><span class="s1">K: 
            print(x + y, end=</span><span class="s2">" "</span><span class="s1">) 
        print(</span><span class="s2">"</span><span class="s3">\n</span><span class="s2">"</span><span class="s1">) 
 
 
</span><span class="s3">def </span><span class="s1">TableMultiplication(K): 
    </span><span class="s2">"""comme son nom l'indique - as suggested by name"""</span><span class="s1"> 
    </span><span class="s3">for </span><span class="s1">x </span><span class="s3">in </span><span class="s1">K: 
        </span><span class="s3">for </span><span class="s1">y </span><span class="s3">in </span><span class="s1">K: 
            print(x * y, end=</span><span class="s2">" "</span><span class="s1">) 
        print(</span><span class="s2">"</span><span class="s3">\n</span><span class="s2">"</span><span class="s1">) 
 
 
</span><span class="s3">def </span><span class="s1">TableSoustraction(K): 
    </span><span class="s2">"""comme son nom l'indique"""</span><span class="s1"> 
    </span><span class="s3">for </span><span class="s1">x </span><span class="s3">in </span><span class="s1">K: 
        </span><span class="s3">for </span><span class="s1">y </span><span class="s3">in </span><span class="s1">K: 
            print(x - y, end=</span><span class="s2">" "</span><span class="s1">) 
        print(</span><span class="s2">"</span><span class="s3">\n</span><span class="s2">"</span><span class="s1">) 
 
 
</span><span class="s3">def </span><span class="s1">TableDivision(K): 
    </span><span class="s2">"""comme son nom l'indique"""</span><span class="s1"> 
    </span><span class="s3">for </span><span class="s1">x </span><span class="s3">in </span><span class="s1">K: 
        </span><span class="s3">for </span><span class="s1">y </span><span class="s3">in </span><span class="s1">K: 
            </span><span class="s3">if not </span><span class="s1">y.nul(): 
                print(x / y, end=</span><span class="s2">" "</span><span class="s1">) 
        print(</span><span class="s2">"</span><span class="s3">\n</span><span class="s2">"</span><span class="s1">) 
 
 
</span><span class="s3">def </span><span class="s1">Opposes(K): 
    </span><span class="s2">"""Les opposés - the opposites"""</span><span class="s1"> 
    </span><span class="s3">for </span><span class="s1">x </span><span class="s3">in </span><span class="s1">K: 
        print(-x, end=</span><span class="s2">" "</span><span class="s1">) 
    print(</span><span class="s2">"</span><span class="s3">\n</span><span class="s2">"</span><span class="s1">) 
 
 
</span><span class="s3">def </span><span class="s1">Inverses(K): 
    </span><span class="s2">"""Les inverses - the inverses"""</span><span class="s1"> 
    </span><span class="s3">for </span><span class="s1">x </span><span class="s3">in </span><span class="s1">K: 
        </span><span class="s3">if not </span><span class="s1">x.nul(): 
            print(~x, end=</span><span class="s2">" "</span><span class="s1">) 
    print(</span><span class="s2">"</span><span class="s3">\n</span><span class="s2">"</span><span class="s1">) 
 
 
</span><span class="s3">def </span><span class="s1">Puissances(x): 
    </span><span class="s2">"""les puissances - the powers"""</span><span class="s1"> 
    </span><span class="s3">for </span><span class="s1">n </span><span class="s3">in </span><span class="s1">range(-</span><span class="s4">5</span><span class="s1">, </span><span class="s4">5</span><span class="s1">): 
        print(x ** n, end=</span><span class="s2">" "</span><span class="s1">) 
    print(</span><span class="s2">"</span><span class="s3">\n</span><span class="s2">"</span><span class="s1">) 
 
 
</span><span class="s3">def </span><span class="s1">Test(k): 
    </span><span class="s2">"""appelle les test un par un - calls tests one by one"""</span><span class="s1"> 
    C = GenZp(k) 
    K = [C(i) </span><span class="s3">for </span><span class="s1">i </span><span class="s3">in </span><span class="s1">range(</span><span class="s4">0</span><span class="s1">, k)] 
    Opposes(K) 
    print(</span><span class="s2">'-----------------'</span><span class="s1">) 
    Inverses(K) 
    print(</span><span class="s2">'-----------------'</span><span class="s1">) 
    TableAddition(K) 
    print(</span><span class="s2">'-----------------'</span><span class="s1">) 
    TableMultiplication(K) 
    print(</span><span class="s2">'-----------------'</span><span class="s1">) 
    TableSoustraction(K) 
    print(</span><span class="s2">'-----------------'</span><span class="s1">) 
    TableDivision(K) 
    print(</span><span class="s2">'-----------------'</span><span class="s1">) 
    Puissances(K[</span><span class="s4">2</span><span class="s1">]) 
    print(</span><span class="s2">'-----------------'</span><span class="s1">) 
    print(</span><span class="s2">'================='</span><span class="s1">) 
 
 
</span><span class="s3">def </span><span class="s1">main(): 
    </span><span class="s2">"""fonction principale - appelle les tests globaux - calls global tests"""</span><span class="s1"> 
    Test(</span><span class="s4">5</span><span class="s1">) 
    Test(</span><span class="s4">7</span><span class="s1">) 
 
 
</span><span class="s3">if </span><span class="s1">__name__ == </span><span class="s2">'__main__'</span><span class="s1">: 
    main() 
 
 
</span></pre>
 </body>
</html>